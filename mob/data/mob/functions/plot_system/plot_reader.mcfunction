$execute as @s at @s if score @s character matches 0 run tellraw @a [{"italic": false,"bold": true,"color": "green","text": "["},{"italic": false,"bold": false,"color": "green","selector":"@s","hoverEvent": {"action": "show_text","contents": [{"text":""}]}},{"italic": false,"bold": true,"color": "green","text": "]"},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress)"}]
$execute as @s at @s unless score @s character matches 0 run tellraw @a [{"italic": false,"bold": true,"color": "green","text": "["},{"italic": false,"bold": false,"color": "green","selector":"@p","hoverEvent": {"action": "show_text","contents": [{"text":""}]}},{"italic": false,"bold": true,"color": "green","text": "]"},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress)"}]

scoreboard players set @s question 0
scoreboard players add @s question 1
$execute if score @s plot_type matches 1 run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.quest"},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).quest"}]
$execute if score @s plot_type matches 1 if score @s question matches ..$(questions) run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.choice"}," ",{"italic": false,"bold": true,"color": "green","score":{"name": "@s","objective": "question"}},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"underlined": true,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).1","clickEvent": {"action": "run_command","value": "/execute as @e[tag=$(character)] if score @s plot_type matches 9 run function mob:plot_system/characters/$(character)/plot_$(plot_progress)_question_1"}}]
scoreboard players add @s question 1
$execute if score @s plot_type matches 1 if score @s question matches ..$(questions) run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.choice"}," ",{"italic": false,"bold": true,"color": "green","score":{"name": "@s","objective": "question"}},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"underlined": true,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).2","clickEvent": {"action": "run_command","value": "/execute as @e[tag=$(character)] if score @s plot_type matches 9 run function mob:plot_system/characters/$(character)/plot_$(plot_progress)_question_2"}}]
scoreboard players add @s question 1
$execute if score @s plot_type matches 1 if score @s question matches ..$(questions) run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.choice"}," ",{"italic": false,"bold": true,"color": "green","score":{"name": "@s","objective": "question"}},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"underlined": true,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).3","clickEvent": {"action": "run_command","value": "/execute as @e[tag=$(character)] if score @s plot_type matches 9 run function mob:plot_system/characters/$(character)/plot_$(plot_progress)_question_3"}}]
scoreboard players add @s question 1
$execute if score @s plot_type matches 1 if score @s question matches ..$(questions) run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.choice"}," ",{"italic": false,"bold": true,"color": "green","score":{"name": "@s","objective": "question"}},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"underlined": true,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).4","clickEvent": {"action": "run_command","value": "/execute as @e[tag=$(character)] if score @s plot_type matches 9 run function mob:plot_system/characters/$(character)/plot_$(plot_progress)_question_4"}}]
scoreboard players add @s question 1
$execute if score @s plot_type matches 1 if score @s question matches ..$(questions) run tellraw @a [{"italic": false,"bold": true,"color": "green","translate":"ToDH.plot.choice"}," ",{"italic": false,"bold": true,"color": "green","score":{"name": "@s","objective": "question"}},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"underlined": true,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).5","clickEvent": {"action": "run_command","value": "/execute as @e[tag=$(character)] if score @s plot_type matches 9 run function mob:plot_system/characters/$(character)/plot_$(plot_progress)_question_5"}}]
execute if score @s plot_type matches 1 run scoreboard players set @s plot_type 9

$execute if score @s plot_type matches 2 run tellraw @a [{"italic": false,"bold": true,"color": "red","translate":"ToDH.plot.mission"},{"italic": false,"bold": true,"color": "white","text": "："},{"italic": false,"bold": false,"color": "white","translate": "ToDH.plot.$(character).$(plot_progress).mission"}]
execute if score @s plot_type matches 2 run scoreboard players set @s plot_type 10

execute if score @s plot_type matches 0 run scoreboard players add @s plot_progress 1
$scoreboard players set @s plot_timer $(plot_delay)

schedule function mob:plot_system/late_kill_character 1s